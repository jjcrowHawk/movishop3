<!--
  Generated template for the AccountInfoPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-title>account-info</ion-title>
  </ion-navbar>
</ion-header>

<ion-content>
  <ion-item-group>
    <ion-item-divider color="light">
      <ion-icon name="ios-person"></ion-icon>
      {{translation['My personal information']}}
    </ion-item-divider>
    <div style="color: red; padding-top: 0.2rem; padding-left: 0.7rem;" *ngIf="user.firstname?.length === 0">
      {{translation['Required Field Error']}}
    </div>
    <ion-item class="item item-ion-input">
      <ion-label class="ion-input-label">{{translation['First name']}}:</ion-label>
      <ion-input type="text" [(ngModel)]="user.firstname" required></ion-input>
    </ion-item>
    <div style="color: red; padding-top: 0.2rem; padding-left: 0.7rem;" *ngIf="user.lastname?.length === 0">
      {{translation['Required Field Error']}}
    </div>
    <ion-item class="item item-ion-input">
      <ion-label class="ion-input-label">{{translation['Last name']}}:</ion-label>
      <ion-input type="text" [(ngModel)]="user.lastname" required></ion-input>
    </ion-item>
    <ion-item class="item item-ion-input">
      <ion-label class="ion-input-label">{{translation['E-mail address']}}:</ion-label>
      <ion-input type="email" [(ngModel)]="user.email" disabled required></ion-input>
    </ion-item>
    <ion-item class="item item-ion-input">
      <ion-label class="ion-input-label">{{translation['Date of Birth']}}:</ion-label>
      <ion-input type="date" [(ngModel)]="user.birthday"></ion-input>
    </ion-item>
  </ion-item-group>
  <div style="text-align: center; padding-top: 20px; padding-bottom: 20px;">
    <button *ngIf="user.id" ion-button (click)="updateCustomer()">{{translation['Save']}}</button>
  </div>
  <ion-item-group>
    <ion-item-divider color="light">
      <ion-icon name="ios-lock"></ion-icon>
      {{translation['Change Password']}}
    </ion-item-divider>
    <ion-item class="item item-ion-input">
      <ion-label class="ion-input-label">{{translation['Current Password']}}:</ion-label>
      <ion-input type="password" [(ngModel)]="user.passwd" disabled></ion-input>
    </ion-item>
    <div style="color: red; padding-top: 0.2rem; padding-left: 0.7rem;"
      *ngIf="new_password.length >0 && new_password.length < 8">
      {{translation['Password Length Error']}}
    </div>
    <ion-item class="item item-ion-input">
      <ion-label class="ion-input-label">{{translation['New Password']}}:</ion-label>
      <ion-input type="password" [(ngModel)]="new_password"></ion-input>
    </ion-item>
    <div style="color: red; padding-top: 0.2rem; padding-left: 0.7rem;"
      *ngIf="confirm_password.length > 0 && confirm_password !== new_password">
      {{translation['Confirm Password Error']}}
    </div>
    <ion-item class="item item-ion-input">
      <ion-label class="ion-input-label">{{translation['Confirmation']}}:</ion-label>
      <ion-input type="password" [(ngModel)]="confirm_password"></ion-input>
    </ion-item>
  </ion-item-group>
  <div style="text-align: center; padding-top: 20px;">
    <button *ngIf="user.id" [disabled]="new_password.length === 0 || new_password !== confirm_password" ion-button
      (click)="updatePassword()">{{translation['Save']}}</button>
  </div>
</ion-content>